{% extends "admin/change_form.html" %}
{% load static %}

{% block submit_buttons_bottom %}
{{ block.super }}

{% if show_action_buttons %}
<div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
    <h3 style="margin-top: 0; margin-bottom: 15px; color: #495057;">モデレーションアクション</h3>
    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <form method="post" action="" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="_execute_warning" value="1">
            <button type="submit" 
                    onclick="return confirm('このユーザーに警告を発行しますか？');"
                    style="padding: 8px 16px; background: #fbbf24; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500;">
                警告を発行
            </button>
        </form>
        
        {% if is_suspended %}
        <form method="post" action="" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="_execute_unsuspend" value="1">
            <button type="submit" 
                    onclick="return confirm('このユーザーのアカウント停止を解除しますか？');"
                    style="padding: 8px 16px; background: #10b981; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500;">
                アカウント停止解除
            </button>
        </form>
        {% else %}
        <form method="post" action="" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="_execute_suspend" value="1">
            <button type="submit" 
                    onclick="return confirm('このユーザーをアカウント停止にしますか？');"
                    style="padding: 8px 16px; background: #f59e0b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500;">
                アカウント停止
            </button>
        </form>
        {% endif %}
        
        <form method="post" action="" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="_execute_ban" value="1">
            <button type="submit" 
                    onclick="return confirm('このユーザーをBAN（アカウント削除）にしますか？この操作は取り消せません。');"
                    style="padding: 8px 16px; background: #dc2626; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500;">
                BAN（アカウント削除）
            </button>
        </form>
    </div>
    <p style="margin-top: 10px; margin-bottom: 0; font-size: 12px; color: #6c757d;">
        注意: これらのアクションは即座に実行され、ユーザーに警告メッセージが表示されます。
    </p>
</div>
{% endif %}
{% endblock %}

