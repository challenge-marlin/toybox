## カード情報（作成・配置ガイド）

### 目的
カード画像の作成枚数、ファイル名、配置先、紐付け方法を定義します。

### 必要枚数
- 今回セット: 合計 60 枚
  - キャラクター: 20 枚
  - エフェクト: 40 枚

- 参考（初期ミニセット）: 合計 12 枚
  - キャラクター: 8 枚（N/R/SR/SSR をバランスよく）
  - エフェクト: 4 枚

将来拡張の目安:
- 第2フェーズ: キャラクター 20 枚（5属性×4レア）、エフェクト 5〜10 枚、計 25〜30 枚

### ファイル名・配置先
- 画像ファイル名は「カードID.png」で統一します。
  - 数値ID運用（今回の 60 枚セット）: 例 `1.png`, `2.png`, `20.png`, `101.png` など
  - 文字ID運用（従来のミニセット）: 例 `C001.png`, `E001.png`
- 推奨配置先（どちらでも可）:
  - フロント: `frontend/public/uploads/cards/`
  - バックエンド: `backend/public/uploads/cards/`

#### 参照URL（優先度）
- 初回処理で得たカードの画像のみを表示します（第二候補へのフェイルオーバーはしません）。
  - 1) マスター `image_url`（`/uploads/cards/<card_id>.png` を推奨）
  - 2) 上記が無い場合のみ、`/uploads/cards/<card_id>.png`

表示箇所
- コレクション: `/collection`
- プロフィール下部: `/profile/view`

### 作成するファイル名一覧（初期12枚）
```
C001.png
C002.png
C006.png
C007.png
C101.png
C102.png
C201.png
C202.png
E001.png
E002.png
E003.png
E004.png
```

### 作成するファイル名一覧（今回60枚）
```
# Characters (20)
1.png
2.png
3.png
4.png
5.png
6.png
7.png
8.png
9.png
10.png
11.png
12.png
13.png
14.png
15.png
16.png
17.png
18.png
19.png
20.png

# Effects (40)
101.png
102.png
103.png
104.png
105.png
106.png
107.png
108.png
109.png
110.png
111.png
112.png
113.png
114.png
115.png
116.png
117.png
118.png
119.png
120.png
121.png
122.png
123.png
124.png
125.png
126.png
127.png
128.png
129.png
130.png
131.png
132.png
133.png
134.png
135.png
136.png
137.png
138.png
139.png
140.png
```

### カード定義（ID / 名称 / レアリティ）
- キャラクター（8枚）
  - C001: 見習いプランナー (N)
  - C006: タスク・レンジャー (R)
  - C101: スチーム・アーキテクト (SR)
  - C201: ネビュラの王 (SSR)
  - C002: 駆け出しインフルエンサー (N)
  - C007: 炎舞のソーシャルナイト (R)
  - C102: 歯車の守護者 (SR)
  - C202: 蒸気の覇者 (SSR)

- エフェクト（4枚）
  - E001: 【スプリントブースト】
  - E002: 【データガード】
  - E003: 【クリーンヒット】
  - E004: 【緊急回復】

### マスターとの紐付け（image_url）
- 画像パスはカードマスターの `image_url` で参照します。
- 画像URLは相対パス `/uploads/cards/<ID>.png` を推奨します。
  - 数値ID運用の例: `/uploads/cards/1.png`, `/uploads/cards/101.png`
  - 文字ID運用の例: `/uploads/cards/C001.png`, `/uploads/cards/E001.png`
- 既に以下へ更新済みです（従来ミニセット基準）。数値IDで運用する場合も同様に `/uploads/cards/<ID>.png` を設定してください。
  - `backend/src/data/card_master.small.tsv`: `/uploads/cards/<ID>.png`
  - `backend/src/data/cardMaster.ts` の `DEFAULT_TSV_FALLBACK`: `/uploads/cards/<ID>.png`

### 画像仕様（推奨）
- 縦長比率を統一（例: 720x1024 または 640x896）
- 形式: `.png` 推奨（透過が必要な場合）。高圧縮が必要なら `.webp` も可。
- ファイル名は必ずカードIDに合わせる（将来拡張でも衝突しないため）。

### 取得フロー（提出時）
1. 提出アップロード（画像/動画/ゲームZIP）中は二重防止のため全画面オーバーレイ表示
2. アップロード完了後に、以下の順で演出を開始
   - カード取得（初回の画像のみ表示）
   - 称号取得（7日間の有効期限）
   - ジャックポット（当日初回のみ判定）

補足
- ゲーム（ZIP）を提出した場合、SSR/SRの抽選確率に+1%ブーストを行い、その中からカードを付与します。
- マスターは `backend/src/data/card_master.small.tsv` を参照し、`image_url` が空の場合でも `/uploads/cards/<card_id>.png` を表示に利用できます。

### 将来の追加命名規則
- キャラクター: `C203`, `C204`, ... のように連番で追加
- エフェクト: `E005`, `E006`, ... のように連番で追加


### フレーム画像（カード上に重ねる装飾）
- 配置先（どちらでも可）:
  - フロント: `frontend/public/uploads/cards/`
  - バックエンド: `backend/public/uploads/cards/`
- ファイル名: `frame.png`
- 参照URL（相対）: `/uploads/cards/frame.png`
- 推奨仕様:
  - 透過PNG（中央が抜けており、カードが見えること）
  - カード表示領域と同等の縦長比を想定（約 7:10）
  - 周囲に不要な余白を入れない（表示枠にぴったり重なるように）

### 関連仕様（提出UI）
- 画像/動画の許可拡張: PNG / JPEG / MP4 / WEBM / OGG（最大 1GB）
- ゲームZIP: 必ず `index.html` を含む Webブラウザ用のミニゲーム。最大 1GB。アップロード後 `/uploads/games/<anonId>/<ts>/` に展開し、`index.html` を別タブ起動
- 視覚上の区別: 画像=黄色リング、動画=青枠＋再生アイコン、ゲーム=マゼンタ枠＋歯車ボタン


